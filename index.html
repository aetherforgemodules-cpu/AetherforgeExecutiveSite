<!DOCTYPE html>
<html>
<head>
  <title>ALPHΩMEGA Executive OS</title>
  <meta charset="utf-8">
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      background: #050509;
      color: #f5f5f5;
      font-family: "Segoe UI", system-ui, sans-serif;
    }
    #topbar {
      height: 40px;
      background: #05060b;
      border-bottom: 1px solid #222;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      font-size: 0.85rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #aaa;
    }
    #topbar span.brand {
      color: #777;
    }
    #topbar span.title {
      color: #ddd;
    }
    #topbar span.status {
      color: #4fc3ff;
    }
    #main {
      display: flex;
      height: calc(100vh - 40px);
    }
    #sidebar {
      width: 200px;
      background: #05060b;
      border-right: 1px solid #222;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .nav-section-title {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #666;
      margin: 8px 0 4px 0;
    }
    .nav-item {
      padding: 8px 10px;
      font-size: 0.85rem;
      border-radius: 4px;
      cursor: pointer;
      color: #ccc;
    }
    .nav-item:hover {
      background: #11131a;
    }
    .nav-item.active {
      background: #11131a;
      border: 1px solid #4fc3ff;
      color: #fff;
    }
    #content {
      flex: 1;
      padding: 16px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    h1 {
      margin: 0 0 4px 0;
      font-size: 1.2rem;
      font-weight: 500;
    }
    h2 {
      margin: 0 0 8px 0;
      font-size: 0.95rem;
      font-weight: 400;
      color: #aaa;
    }
    .panel {
      flex: 1;
      border: 1px solid #222;
      background: #05060b;
      padding: 10px;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }
    .panel-header {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #777;
      margin-bottom: 6px;
    }
    .panel-body {
      flex: 1;
      overflow-y: auto;
      font-size: 0.9rem;
    }
    .panel-footer {
      margin-top: 8px;
      font-size: 0.75rem;
      color: #666;
    }
    button {
      padding: 6px 10px;
      margin: 2px 0;
      background: #11131a;
      border: 1px solid #444;
      color: #f5f5f5;
      cursor: pointer;
      font-size: 0.8rem;
      border-radius: 3px;
    }
    button:hover {
      border-color: #4fc3ff;
    }
    .row {
      display: flex;
      gap: 10px;
      margin-bottom: 8px;
    }
    .col {
      flex: 1;
      min-width: 0;
    }
    .log {
      background: #050509;
      border: 1px solid #222;
      padding: 8px;
      white-space: pre-wrap;
      line-height: 1.4;
    }
    .tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      background: #11131a;
      border: 1px solid #333;
      color: #aaa;
      margin-right: 4px;
      margin-bottom: 4px;
    }
    /* Chat */
    #chatLog {
      height: 100%;
      padding: 8px;
      background: #050509;
      border: 1px solid #222;
      overflow-y: auto;
      font-size: 0.85rem;
    }
    .msg {
      margin-bottom: 8px;
      max-width: 90%;
      line-height: 1.4;
      white-space: pre-wrap;
    }
    .msg.user {
      text-align: right;
      margin-left: auto;
      color: #e0f7ff;
    }
    .msg.ai {
      text-align: left;
      margin-right: auto;
      color: #f5f5f5;
    }
    .msg-label {
      font-size: 0.65rem;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      opacity: 0.6;
      margin-bottom: 2px;
    }
    .bubble {
      display: inline-block;
      padding: 5px 8px;
      border-radius: 6px;
      background: #11131a;
      border: 1px solid #333;
    }
    .user .bubble {
      background: #102331;
      border-color: #295b7a;
    }
    .ai .bubble {
      background: #14141f;
      border-color: #333;
    }
    #chatInputRow {
      margin-top: 6px;
      display: flex;
      gap: 6px;
    }
    #chatInput {
      flex: 1;
      padding: 6px;
      border-radius: 3px;
      border: 1px solid #333;
      background: #050509;
      color: #f5f5f5;
      font-size: 0.85rem;
    }
    #chatSend {
      padding: 6px 10px;
      background: #11131a;
      border: 1px solid #444;
      color: #f5f5f5;
      cursor: pointer;
      font-size: 0.8rem;
      border-radius: 3px;
    }
    #chatSend:hover {
      border-color: #4fc3ff;
    }
    .pill {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 0.7rem;
      border: 1px solid #333;
      background: #11131a;
      color: #aaa;
      margin-right: 4px;
      margin-bottom: 4px;
    }
  </style>
</head>
<body>

<div id="topbar">
  <span class="brand">AETHERFORGE STUDIO</span>
  <span class="title">ALPHΩMEGA EXECUTIVE OS</span>
  <span class="status" id="statusText">ENGINE: IDLE</span>
</div>

<div id="main">
  <div id="sidebar">
    <div class="nav-section-title">Executive</div>
    <div class="nav-item active" data-view="ai" onclick="switchView('ai', this)">AI Console</div>

    <div class="nav-section-title">Studios</div>
    <div class="nav-item" data-view="game" onclick="switchView('game', this)">Game Engine</div>
    <div class="nav-item" data-view="movie" onclick="switchView('movie', this)">Movie Studio</div>
    <div class="nav-item" data-view="music" onclick="switchView('music', this)">Music Studio</div>
  </div>

  <div id="content">
    <!-- AI CONSOLE VIEW -->
    <div id="view-ai" class="view">
      <h1>Navigator AI Console</h1>
      <h2>Talk to the executive layer about the engine, studios, and universe.</h2>
      <div class="panel">
        <div class="panel-header">Conversation</div>
        <div class="panel-body">
          <div id="chatLog"></div>
        </div>
        <div class="panel-footer">
          <div id="chatInputRow">
            <input id="chatInput" type="text" placeholder="Ask about game engine, movie studio, music, or Primefield…" />
            <button id="chatSend" onclick="sendChat()">Send</button>
          </div>
        </div>
      </div>
    </div>

    <!-- GAME ENGINE VIEW -->
    <div id="view-game" class="view" style="display:none;">
      <h1>Game Engine Surface</h1>
      <h2>Minimal scene/ritual engine you can extend.</h2>
      <div class="row">
        <div class="col">
          <div class="panel">
            <div class="panel-header">Scenes</div>
            <div class="panel-body" id="gameScenes">
              <!-- Filled by JS -->
            </div>
            <div class="panel-footer">
              <span class="pill">Engine: Primefield</span>
              <span class="pill">Mode: Minimal</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="panel">
            <div class="panel-header">Engine Log</div>
            <div class="panel-body">
              <div id="gameLog" class="log">No scene executed yet.</div>
            </div>
            <div class="panel-footer" id="gameStateFooter"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- MOVIE STUDIO VIEW -->
    <div id="view-movie" class="view" style="display:none;">
      <h1>Movie Studio</h1>
      <h2>Minimal shot/timeline concept you can expand into a real editor.</h2>
      <div class="row">
        <div class="col">
          <div class="panel">
            <div class="panel-header">Shot Library</div>
            <div class="panel-body" id="movieShots">
              <!-- Filled by JS -->
            </div>
            <div class="panel-footer">
              <span class="pill">Timeline: Linear</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="panel">
            <div class="panel-header">Preview / Script</div>
            <div class="panel-body">
              <div id="movieLog" class="log">No sequence previewed yet.</div>
            </div>
            <div class="panel-footer">
              Use this as a conceptual script/preview surface. Real export/editing would be a next layer.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MUSIC STUDIO VIEW -->
    <div id="view-music" class="view" style="display:none;">
      <h1>Music & Singer Studio</h1>
      <h2>Minimal track/singer concept surface.</h2>
      <div class="row">
        <div class="col">
          <div class="panel">
            <div class="panel-header">Tracks</div>
            <div class="panel-body" id="musicTracks">
              <!-- Filled by JS -->
            </div>
            <div class="panel-footer">
              <span class="pill">Mode: Concept</span>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="panel">
            <div class="panel-header">Session Log</div>
            <div class="panel-body">
              <div id="musicLog" class="log">No session started yet.</div>
            </div>
            <div class="panel-footer">
              This is a conceptual control surface. Real audio/voice would require dedicated tools.
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
/* =========================
   EXECUTIVE ENGINE MODEL
   ========================= */

const statusText = document.getElementById("statusText")

const universe = {
  primefield: {
    state: "dormant",
    stability: 0,
    charge: 0
  },
  gameScenes: [
    {
      id: "scene_awaken",
      label: "Awakening Sequence",
      description: "Awaken the Primefield and initialize stability.",
      effect() {
        universe.primefield.state = "awakened"
        universe.primefield.stability = 1
        universe.primefield.charge = 0.2
        return [
          "Scene: Awakening Sequence",
          "Primefield awakens. Stability set to 1. Charge at 0.2."
        ]
      }
    },
    {
      id: "scene_charge",
      label: "Charge Field",
      description: "Increase charge and stability.",
      effect() {
        universe.primefield.charge += 0.3
        universe.primefield.stability += 1
        return [
          "Scene: Charge Field",
          "Charge increased. Stability reinforced."
        ]
      }
    },
    {
      id: "scene_quench",
      label: "Quench",
      description: "Return to dormancy and reset.",
      effect() {
        universe.primefield.state = "dormant"
        universe.primefield.stability = 0
        universe.primefield.charge = 0
        return [
          "Scene: Quench",
          "Primefield returns to dormancy. All values reset."
        ]
      }
    }
  ],
  movieShots: [
    { id: "shot_1", label: "Cosmic Wide", text: "A vast, silent field of stars." },
    { id: "shot_2", label: "Primefield Close", text: "A single point of light, pulsing faintly." },
    { id: "shot_3", label: "Ignition", text: "The point erupts into a lattice of light." }
  ],
  musicTracks: [
    { id: "track_1", label: "Primefield Hymn", singer: "Synthetic Choir", mood: "Solemn" },
    { id: "track_2", label: "Ignition Pulse", singer: "Pulse Engine", mood: "Driving" },
    { id: "track_3", label: "Quench Lullaby", singer: "Field Whisperer", mood: "Calm" }
  ]
}

function primefieldSummary() {
  const p = universe.primefield
  return `State: ${p.state}, Stability: ${p.stability}, Charge: ${p.charge.toFixed(2)}`
}

/* =========================
   VIEW SWITCHING
   ========================= */

function switchView(viewId, el) {
  document.querySelectorAll(".view").forEach(v => v.style.display = "none")
  document.getElementById("view-" + viewId).style.display = "block"

  document.querySelectorAll(".nav-item").forEach(n => n.classList.remove("active"))
  el.classList.add("active")
}

/* =========================
   AI CONSOLE (RULE-BASED)
   ========================= */

const chatLogEl = document.getElementById("chatLog")
const chatInputEl = document.getElementById("chatInput")

function appendMessage(role, text) {
  const wrap = document.createElement("div")
  wrap.className = "msg " + role

  const label = document.createElement("div")
  label.className = "msg-label"
  label.innerText = role === "user" ? "YOU" : "EXECUTIVE AI"

  const bubble = document.createElement("div")
  bubble.className = "bubble"
  bubble.innerText = text

  wrap.appendChild(label)
  wrap.appendChild(bubble)
  chatLogEl.appendChild(wrap)
  chatLogEl.scrollTop = chatLogEl.scrollHeight
}

function respondToUser(message) {
  const m = message.toLowerCase()

  if (m.includes("primefield") || m.includes("state") || m.includes("engine")) {
    return "Current Primefield snapshot → " + primefieldSummary()
  }

  if (m.includes("game")) {
    return "Game Engine: you have a minimal scene system. Each scene mutates Primefield state. Extend it by adding more scenes to universe.gameScenes."
  }

  if (m.includes("movie") || m.includes("film") || m.includes("cinema")) {
    return "Movie Studio: this surface models shots and sequences conceptually. To turn it into a real editor, you’d add timelines, keyframes, and export logic."
  }

  if (m.includes("music") || m.includes("song") || m.includes("singer") || m.includes("voice")) {
    return "Music Studio: tracks and singers are modeled as data here. Real audio/voice would require a DAW or dedicated synthesis tools wired into this executive layer."
  }

  if (m.includes("extend") || m.includes("create") || m.includes("build")) {
    return "To create with this shell, treat it as a control surface: add new scenes, shots, and tracks in the universe object, then wire buttons and flows to trigger them."
  }

  if (m.includes("help")) {
    return "You can ask about: Primefield, game engine, movie studio, music studio, or how to extend the system."
  }

  return "I don't have a scripted answer for that yet, but this shell is yours to extend. Ask about Primefield, game engine, movie studio, or music studio for more concrete guidance."
}

function sendChat() {
  const text = chatInputEl.value.trim()
  if (!text) return

  appendMessage("user", text)
  chatInputEl.value = ""

  const reply = respondToUser(text)
  appendMessage("ai", reply)
}

chatInputEl.addEventListener("keydown", e => {
  if (e.key === "Enter") sendChat()
})

appendMessage("ai",
  "Executive OS online. Use the sidebar to switch between AI Console, Game Engine, Movie Studio, and Music Studio. Ask me how to extend any of them."
)

/* =========================
   GAME ENGINE VIEW
   ========================= */

const gameScenesEl = document.getElementById("gameScenes")
const gameLogEl = document.getElementById("gameLog")
const gameStateFooterEl = document.getElementById("gameStateFooter")

function renderGameScenes() {
  gameScenesEl.innerHTML = ""
  universe.gameScenes.forEach(scene => {
    const wrap = document.createElement("div")
    wrap.style.marginBottom = "8px"

    const title = document.createElement("div")
    title.innerHTML = `<span class="tag">Scene</span> ${scene.label}`

    const desc = document.createElement("div")
    desc.style.fontSize = "0.8rem"
    desc.style.color = "#aaa"
    desc.innerText = scene.description

    const btn = document.createElement("button")
    btn.innerText = "Run Scene"
    btn.onclick = () => runScene(scene)

    wrap.appendChild(title)
    wrap.appendChild(desc)
    wrap.appendChild(btn)
    gameScenesEl.appendChild(wrap)
  })
}

function runScene(scene) {
  statusText.innerText = "ENGINE: RUNNING " + scene.id
  const lines = scene.effect()
  const logLines = [...lines, "", "Primefield → " + primefieldSummary()]
  gameLogEl.innerText = logLines.join("\n")
  gameStateFooterEl.innerText = "Last scene: " + scene.label
  statusText.innerText = "ENGINE: IDLE"
}

renderGameScenes()
gameStateFooterEl.innerText = "Primefield → " + primefieldSummary()

/* =========================
   MOVIE STUDIO VIEW
   ========================= */

const movieShotsEl = document.getElementById("movieShots")
const movieLogEl = document.getElementById("movieLog")

function renderMovieShots() {
  movieShotsEl.innerHTML = ""
  universe.movieShots.forEach(shot => {
    const wrap = document.createElement("div")
    wrap.style.marginBottom = "8px"

    const title = document.createElement("div")
    title.innerHTML = `<span class="tag">Shot</span> ${shot.label}`

    const btn = document.createElement("button")
    btn.innerText = "Preview"
    btn.onclick = () => previewShot(shot)

    wrap.appendChild(title)
    wrap.appendChild(btn)
    movieShotsEl.appendChild(wrap)
  })

  const seqBtn = document.createElement("button")
  seqBtn.innerText = "Preview Sequence"
  seqBtn.onclick = previewSequence
  movieShotsEl.appendChild(seqBtn)
}

function previewShot(shot) {
  movieLogEl.innerText = `[${shot.label}]\n` + shot.text
}

function previewSequence() {
  const lines = universe.movieShots.map(s => `[${s.label}] ${s.text}`)
  movieLogEl.innerText = lines.join("\n\n")
}

renderMovieShots()

/* =========================
   MUSIC STUDIO VIEW
   ========================= */

const musicTracksEl = document.getElementById("musicTracks")
const musicLogEl = document.getElementById("musicLog")

function renderMusicTracks() {
  musicTracksEl.innerHTML = ""
  universe.musicTracks.forEach(track => {
    const wrap = document.createElement("div")
    wrap.style.marginBottom = "8px"

    const title = document.createElement("div")
    title.innerHTML = `<span class="tag">Track</span> ${track.label}`

    const meta = document.createElement("div")
    meta.style.fontSize = "0.8rem"
    meta.style.color = "#aaa"
    meta.innerText = `Singer: ${track.singer} | Mood: ${track.mood}`

    const btn = document.createElement("button")
    btn.innerText = "Start Session"
    btn.onclick = () => startMusicSession(track)

    wrap.appendChild(title)
    wrap.appendChild(meta)
    wrap.appendChild(btn)
    musicTracksEl.appendChild(wrap)
  })
}

function startMusicSession(track) {
  musicLogEl.innerText =
    `Session started for "${track.label}"\n` +
    `Singer: ${track.singer}\nMood: ${track.mood}\n\n` +
    `Use this as a planning surface for lyrics, arrangement notes, and vocal directions.`
}

renderMusicTracks()
</script>

</body>
</html>
